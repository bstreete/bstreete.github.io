<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Brayden's Rants and Recipes (Technical Projects)</title><link>https://bstreete.github.io/</link><description>Posts about various technical focused projects. Sorted from newest to oldest.</description><atom:link href="https://bstreete.github.io/categories/cat_tech.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents © 2025 &lt;a href="mailto:bstreete@users.noreply.github.com"&gt;Brayden Streeter&lt;/a&gt; </copyright><lastBuildDate>Wed, 17 Dec 2025 17:08:08 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Adding MQTT and Zigbee to Home Assistant Docker</title><link>https://bstreete.github.io/posts/adding-mqttzigbee-to-home-assistant-docker/</link><dc:creator>Brayden Streeter</dc:creator><description>&lt;div class="paragraph"&gt;
&lt;p&gt;I found some cheap Zigbee Aqara door and window sensors that I want to incorporate into my Home Assistant setup.
Since my "server" is a 10 year old laptop, it doesn’t support UEFI boot so I ended up using a Docker container for the Home Assistant server.
Zigbee integrations are typically through MQTT protocols, but the official docs reference add-ons (which are not supported in Docker builds).
I followed the configuration steps from &lt;a href="https://dongle.sonoff.tech/guide/dongle-lmg21/connecting_to_zigbee2mqtt/"&gt;Sonoff&lt;/a&gt; which included the needed dependencies.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h3 id="_zigbee2mqtt"&gt;Zigbee2MQTT&lt;/h3&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Zigbee2MQTT converts Zigbee data into MQTT format and forwards it to an MQTT broker.
I followed this &lt;a href="https://www.zigbee2mqtt.io/guide/installation/02_docker.html"&gt;simple guide&lt;/a&gt; to get started.
I essentially copy-pasted the &lt;code&gt;compose.yml&lt;/code&gt; information and tweaked a few paths to match what I wanted.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="title"&gt;Final compose.yml&lt;/div&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;  zigbee2mqtt:
    container_name: zigbee2mqtt
    image: ghcr.io/koenkk/zigbee2mqtt
    restart: unless-stopped
    volumes:
      - /home/brayden/zigbee2mqtt:/app/data
      - /run/udev:/run/udev:ro
    ports:
      # Frontend port
      - 8080:8080
    devices:
      # Make sure this matched your adapter location - I had to update this based on my configuration
      - /dev/serial/by-id/usb-ITead_Sonoff_Zigbee_3.0_USB_Dongle_Plus_50d8e108cb3aef1189912c1455516304-if00-port0:/dev/ttyUSB0&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h3 id="_mqtt_broker_mosquitto"&gt;MQTT Broker - Mosquitto&lt;/h3&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;I started with an &lt;a href="https://cedalo.com/blog/mosquitto-docker-configuration-ultimate-guide/#How_to_install_and_configure_Mosquitto_MQTT_broker_in_Docker_from_scratch"&gt;example guide on instantiating a Mosquitto Docker image&lt;/a&gt;.
The Sonoff guide recommended a Raspberry Pi set of instructions that did not use Docker.
I didn’t want to reverse engineer those steps, so I kept looking.
The instructions have a &lt;code&gt;compose.yml&lt;/code&gt; entry towards the bottom of the page that I ended up using nearly verbatim.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="title"&gt;Final compose.yml&lt;/div&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-yml" data-lang="yml"&gt;  mosquitto:
    container_name: mosquitto
    image: "eclipse-mosquitto:2"
    volumes:
      - /home/brayden/mosquitto/config:/mosquitto/config
      - /home/brayden/mosquitto/data:/mosquitto/data
      - /home/brayden/mosquitto/log:/mosquitto/log
      - /etc/localtime:/etc/localtime:ro
    restart: unless-stopped
    privileged: true
    ports:
      - 1883:1883
      - 8883:8883
      - 9001:9001

    networks:
      - mosquitto

networks:
  mosquitto:
    name: mosquitto
    driver: bridge&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h3 id="_configuring_zigbee2mqtt"&gt;Configuring Zigbee2MQTT&lt;/h3&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Start the new containers first.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-bash" data-lang="bash"&gt;$ sudo docker compose up -d
[+] Running 4/4
 ✔ Container mosquitto      Running          0.0s
 ✔ Container homeassistant  Running          0.0s
 ✔ Container esphome        Running          0.0s
 ✔ Container zigbee2mqtt    Running          0.0s&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Go to the Zigbee2MQTT frontend webserver at port 8080.
Example: &lt;code&gt;&lt;a href="http://localhost:8080" class="bare"&gt;http://localhost:8080&lt;/a&gt;&lt;/code&gt; for a local install.
I filled out the dropdowns with the needed information.
Setting the correct USB device for the Sonoff Zigbee dongle was the only thing that took a second to figure out.
I hit apply, and the wizard saved the information and restarted the instance.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The first time I tried it, refreshing the page restarted the wizard.
Per the Zigbee2MQTT docs, this indicates something is wrong with my configuration.
In my case, the logs showed I set an incorrect device path.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-bash" data-lang="bash"&gt;less data/log/2025-12-13.21-11-35/log.log
z2m: Error: Error: No such file or directory, cannot open /dev/ttyUSB0&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Once I fixed the &lt;code&gt;compose.yml&lt;/code&gt; mapping of the device to &lt;code&gt;/dev/ttyUSB0&lt;/code&gt;, I couldn’t connect MQTT to the Zigbee2MQTT containers.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-bash" data-lang="bash"&gt;[2025-12-13 21:37:40] info:     z2m: Connecting to MQTT server at mqtt://localhost:1883
[2025-12-13 21:37:40] error:    z2m: MQTT failed to connect, exiting... ()&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;I played around with this setting a little bit in the &lt;code&gt;compose.yml&lt;/code&gt;, but was stymied.
The Zigbee2MQTT docs recommend using the IP of the docker0 bridge to establish the connection: server: mqtt://172.17.0.1.
I also tried using the address of the physical host with the same error.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-bash" data-lang="bash"&gt;[2025-12-13 21:44:56] info:     z2m: Connecting to MQTT server at mqtt://172.17.0.1:1883
[2025-12-13 21:44:57] error:    z2m: MQTT failed to connect, exiting... (read ECONNRESET)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;It ended up being a mistake in the &lt;code&gt;compose.yml&lt;/code&gt;.
I placed the &lt;code&gt;mosquitto.conf&lt;/code&gt; in the wrong directory, so the default version was used which disables unauthenticated requests from external hosts.
Unfortunately, separate containers are considered a different host.
Once that was corrected, Zigbee2MQTT successfully finished the configuration wizard.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;From there, I added the MQTT integration into Home Assistant following the &lt;a href="https://www.home-assistant.io/integrations/mqtt#setting-up-a-broker"&gt;documentation&lt;/a&gt;.
After adding the integration, I simply had to select the "Permit Join" button the Home Assistant dashboard, and pair my Zigbee sensor with the controller.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="https://bstreete.github.io/images/zigbee2mqtt_bridge.png" alt="zigbee2mqtt bridge"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>docker</category><category>home assistant</category><category>mqtt</category><category>zigbee</category><guid>https://bstreete.github.io/posts/adding-mqttzigbee-to-home-assistant-docker/</guid><pubDate>Sat, 13 Dec 2025 20:32:36 GMT</pubDate></item><item><title>Converting Ubuntu Desktop to Server</title><link>https://bstreete.github.io/posts/tech/converting-ubuntu-desktop-to-server/</link><dc:creator>Brayden Streeter</dc:creator><description>&lt;div class="paragraph"&gt;
&lt;p&gt;I’ve got an old laptop I was using to play around with &lt;a href="https://www.home-assistant.io/"&gt;Home Assistant&lt;/a&gt;.
I started with a clean install of Ubuntu desktop, but I realized I didn’t need the desktop.
I followed this &lt;a href="https://askubuntu.com/questions/1313733/convert-ubuntu-desktop-to-server-edition-20-04"&gt;Ask Ubuntu&lt;/a&gt; post to install the server version (CLI only).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-bash" data-lang="bash"&gt;sudo apt install ubuntu-server

# I got a failure message:
E: Failed to fetch http://us.archive.ubuntu.com/ubuntu/pool/main/l/landscape-client/landscape-common_24.02-0ubuntu5.6_amd64.deb  404  Not Found [IP: 91.189.91.83 80]
E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?

# I ran both suggestions:
sudo apt-get update
sudo apt install ubuntu-server --fix-missing
sudo reboot&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;After the reboot, I set the default boot version to the server edition.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-bash" data-lang="bash"&gt;sudo systemctl set-default multi-user.target
sudo reboot&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;After moving over to the server edition, I removed the remaining packages and updated remaining packages.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-bash" data-lang="bash"&gt;sudo apt purge ubuntu-desktop -y &amp;amp;&amp;amp; sudo apt autoremove -y &amp;amp;&amp;amp; sudo apt autoclean
sudo apt-get update
sudo apt-get upgrade
sudo reboot&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;After the final reboot:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-bash" data-lang="bash"&gt;Welcome to Ubuntu 24.04.3 LTS (GNU/Linux 6.8.0-78-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Sat Dec 13 12:45:51 PM MST 2025&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>home assistant</category><category>ubuntu</category><guid>https://bstreete.github.io/posts/tech/converting-ubuntu-desktop-to-server/</guid><pubDate>Sat, 13 Dec 2025 19:28:43 GMT</pubDate></item><item><title>Adding Icons</title><link>https://bstreete.github.io/posts/tech/adding-icons/</link><dc:creator>Brayden Streeter</dc:creator><description>&lt;div class="paragraph"&gt;
&lt;p&gt;I spent this afternoon creating and adding a favicon and logo to the webpage.
The original inspiration was to print out some QR codes with a snazzy logo.
I used &lt;a href="https://www.canva.com/"&gt;Canva&lt;/a&gt; to create a simple logo using some of their software engineering templates.
I made a simpler version of the icon to use as a favicon for the webpage.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;After downloading the PNGs, I opened the images in &lt;a href="https://www.gimp.org/"&gt;GIMP&lt;/a&gt;.
I added a transparent layer to the image, then deleted the outside white sections of the image to get the desired shapes.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="title"&gt;Adding favicon and Logo to conf.py&lt;/div&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-python" data-lang="python"&gt;FAVICONS = (
    ("icon", "/favicon.png", "40x40"),
)

# Note: I used the {SITE_URL} to provide an absolute path, I had issues with relative
# pathing on non-root level pages.
LOGO_URL = f'{SITE_URL}/images/main_logo.png'&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;After adding the new images, I noticed the logo placement was wonky.
The current template I’m using expects a banner style logo across the top of the page.
Since I wanted a smaller round logo, that didn’t quite fit correctly.
I modified the &lt;code&gt;base.tmpl&lt;/code&gt; to move the logo around a little bit:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="title"&gt;Removing the Logo from the Header&lt;/div&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-html" data-lang="html"&gt;&amp;lt;!-- Was --&amp;gt;
&amp;lt;div class="logo"&amp;gt;
    {% if logo_url %}
        &amp;lt;img src="{{ logo_url }}" alt="{{ blog_title|e }}" id="logo"&amp;gt;
    {% else %}
        &amp;lt;div id="nologoimage"&amp;gt;
            {{ blog_title }}
        &amp;lt;/div&amp;gt;
    {% endif %}
&amp;lt;/div&amp;gt;

&amp;lt;!-- Is --&amp;gt;
&amp;lt;div class="logo"&amp;gt;
    {% if logo_url %}
        {{ blog_title }}
    {% else %}
        &amp;lt;div id="nologoimage"&amp;gt;
            {{ blog_title }}
        &amp;lt;/div&amp;gt;
    {% endif %}
&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="title"&gt;Adding the Logo to the Nav Bar&lt;/div&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-html" data-lang="html"&gt;&amp;lt;!-- Was --&amp;gt;
&amp;lt;a href="/"&amp;gt;
    &amp;lt;div id="titleauth"&amp;gt;
        {% if show_blog_title %}
            {{ blog_title }}&amp;lt;br /&amp;gt; by {{ blog_author }}
        {% else %}
            by {{ blog_author }}
        {% endif %}
    &amp;lt;/div&amp;gt;
&amp;lt;/a&amp;gt;

&amp;lt;!-- Is --&amp;gt;
&amp;lt;a href="/"&amp;gt;
    &amp;lt;div id="titleauth"&amp;gt;
        {% if show_blog_title %}
            {{ blog_title }}&amp;lt;br /&amp;gt; by {{ blog_author }}
        {% else %}
            &amp;lt;img src="{{ logo_url }}" alt="{{ blog_title|e }}" id="logo"&amp;gt;
        {% endif %}
    &amp;lt;/div&amp;gt;
&amp;lt;/a&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>gimp</category><category>nikola</category><guid>https://bstreete.github.io/posts/tech/adding-icons/</guid><pubDate>Thu, 11 Dec 2025 22:02:04 GMT</pubDate></item><item><title>Changing to the Gruberwine Theme</title><link>https://bstreete.github.io/posts/tech/changing-to-the-gruberwine-theme/</link><dc:creator>Brayden Streeter</dc:creator><description>&lt;div class="paragraph"&gt;
&lt;p&gt;After converting most of the Hugo posts from toml to Asciidoc, I didn’t like the formatting.
I tried out a few of the &lt;a href="https://themes.getnikola.com/"&gt;built-in themes&lt;/a&gt; and ended up with the Gruberwine theme.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-sh" data-lang="sh"&gt;# Installing gruberwine
nikola theme -i gruberwine&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;I didn’t like the default behavior of using link metadata as the title link on index pages.
I modified a few of the provided templates to comment out that logic.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-go" data-lang="go"&gt;{# Original Version
    {% if post.meta('link') %}
        &amp;lt;/a&amp;gt;&amp;lt;a href="{{ post.meta('link') }}" class="u-url"&amp;gt;
    {% endif %}

    {% if post.should_show_title() %}
        {{ post.title() }}
    {% endif %}
#}

{# Modified Version #}
{# Force permalinks here instead of external links like in original #}
{{ post.title() }}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;I liked the provided &lt;code&gt;post_list_with_expansion&lt;/code&gt; template used for index pages, but I realized I wanted to have multiple types of index pages sorted by date or alphabetized.
I duplicated the original template and added a manual index page for recipes that uses a different sort in the short code.
Since I didn’t specify a start/stop index, it contains all of the recipes on the site, and it’s auto-generated using the existing infrastructure.
I removed dates from the custom template, because it read better to me.
See &lt;a href="https://bstreete.github.io/posts/recipes/recipe-index/"&gt;the Recipe Index page&lt;/a&gt; for an example sorted alphabetically compared to the default &lt;a href="https://bstreete.github.io/categories/cat_recipes"&gt;Recipe Category page&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="title"&gt;Custom Index Page&lt;/div&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-go" data-lang="go"&gt; {{% post-list sort="title" categories="recipes" template="post_list_with_expansion_with_hidden_dates.tmpl" %}} {{% /post-list %}} &lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>nikola</category><guid>https://bstreete.github.io/posts/tech/changing-to-the-gruberwine-theme/</guid><pubDate>Mon, 08 Dec 2025 13:41:32 GMT</pubDate></item><item><title>Migrating from Hugo to Nikola with Asciidoc</title><link>https://bstreete.github.io/posts/tech/migrating-from-hugo-to-nikola-with-asciidoc/</link><dc:creator>Brayden Streeter</dc:creator><description>&lt;div class="paragraph"&gt;
&lt;p&gt;I’ve had a small recipe website for a while using Hugo with some custom short-codes to enable additional metadata that I thought would be useful.
After a few years, I’ve soured a little bit on &lt;a href="https://gohugo.io/"&gt;Hugo&lt;/a&gt;, mostly because I don’t use Go much, debugging or adding capabilities was not as intuitive for me.
I’ve been using &lt;a href="https://docs.asciidoctor.org"&gt;Asciidoctor&lt;/a&gt; for document generation at work, and I wanted to continue playing with that.
I found the slightly more complex markdown just powerful enough for complex technical documents without being as cumbersome as LaTEX.
I found &lt;a href="https://getnikola.com/"&gt;Nikola&lt;/a&gt; searching old Asciidoctor forum posts, and it appears to fit the bill.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h3 id="_setup"&gt;Setup&lt;/h3&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;I followed the &lt;a href="https://getnikola.com/getting-started.html"&gt;Getting Started&lt;/a&gt; guide, and it just worked.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-sh" data-lang="sh"&gt;# Install dependencies through package manager
sudo apt install python3.12-venv
sudo apt install asciidoctor

# Setup Python Virtual Environment
python3 -m venv nikola-env
cd nikola-env/
bin/python -m pip install -U pip setuptools wheel
bin/python -m pip install -U "Nikola[extras]"

# Install the Asciidoc Plugin
bin/nikola
bin/nikola plugin -i asciidoc&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;After finishing setup, I have the following tool versions installed:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-sh" data-lang="sh"&gt;# Installed Versions
$  ~/nikola-env/bin/python --version
Python 3.12.3

$ ~/nikola-env/bin/nikola --version
Nikola v8.3.3

$ asciidoctor --version
Asciidoctor 2.0.20 [https://asciidoctor.org]
Runtime Environment (ruby 3.2.3 (2024-01-18 revision 52bb2ac0a6) [x86_64-linux-gnu]) (lc:UTF-8 fs:UTF-8 in:UTF-8 ex:UTF-8)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The sample &lt;code&gt;conf.py&lt;/code&gt; printed to the screen included notes on enabling Asciidoc/Asciidoctor compilers and choosing the binary name.
I used the following tweaks.
I have not needed to change the options yet, but I may investigate that in the future.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-python" data-lang="python"&gt;# Add the asciidoc compiler to your COMPILERS dict.
COMPILERS["asciidoc"] = ['.adoc']

# Add asciidoc files to your POSTS, PAGES
POSTS = POSTS + (("posts/*.adoc", "posts", "post.tmpl"),)
PAGES = PAGES + (("pages/*.adoc", "pages", "page.tmpl"),)

ASCIIDOC_BINARY = "asciidoctor"

# Specify options to the asciidoc compiler (as a string).
# ASCIIDOC_OPTIONS = ""&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;I went with the &lt;a href="https://themes.getnikola.com/v8/material-theme/"&gt;Material Theme&lt;/a&gt; that was easily available.
Adding the theme took little effort (no submodules like in my Hugo attempt a few years ago).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-sh" data-lang="sh"&gt;$bin/nikola theme -i material-theme

# In conf.py, add the following to change the active theme
THEME="material-theme"&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h3 id="_tweaks"&gt;Tweaks&lt;/h3&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;I’ve made a few tweaks to formatting, but I’m otherwise very happy with the out of the box experience.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-python" data-lang="python"&gt;# conf.py changes:
# Remove Hours, Minutes, Seconds from post dates
DATE_FORMAT = 'yyyy-MM-dd'&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code class="language-css" data-lang="css"&gt;/* themes/material-theme/assets/css/ripples.css: */
/*# Adding a little bit of padding to table cells so recipe pages can be a little more compact*/
td {
  padding-left: 10px;
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h3 id="_other_notes"&gt;Other Notes&lt;/h3&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;It took me a silly amount of time to recognize that the &lt;code&gt;link&lt;/code&gt; metadata needed to &lt;strong&gt;not&lt;/strong&gt; include quotes.
If included, the &lt;code&gt;SITE_URL&lt;/code&gt; was appended to the entire string which broke links.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre class="highlight"&gt;&lt;code&gt;# Correct
.. link: https://www.reddit.com/r/pics/comments/jkc1j/2am_chili/
# Links to https://www.reddit.com/r/pics/comments/jkc1j/2am_chili/

# Incorrect
.. link: "https://www.reddit.com/r/pics/comments/jkc1j/2am_chili/"
# Links to &amp;lt;SITE_URL&amp;gt;/posts/recipes/2am-chili/%22https:/www.reddit.com/r/pics/comments/jkc1j/2am_chili/%22&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>nikola</category><guid>https://bstreete.github.io/posts/tech/migrating-from-hugo-to-nikola-with-asciidoc/</guid><pubDate>Sun, 07 Dec 2025 14:54:51 GMT</pubDate></item></channel></rss>