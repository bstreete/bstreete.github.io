<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Brayden's Rants and Recipes (Posts about nikola)</title><link>https://bstreete.github.io/</link><description></description><atom:link href="https://bstreete.github.io/categories/nikola.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents © 2025 &lt;a href="mailto:bstreete@users.noreply.github.com"&gt;Brayden Streeter&lt;/a&gt; </copyright><lastBuildDate>Sun, 21 Dec 2025 15:15:51 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Installing Nikola on Windows</title><link>https://bstreete.github.io/posts/tech/installing-nikola-on-windows/</link><dc:creator>Brayden Streeter</dc:creator><description>&lt;div class="paragraph"&gt;

&lt;p&gt;I was unsuccessful regenerating the Nikola website on a Windows 11 box.

I followed the startup guide and installed dependencies.

I ended up with a slightly different version of each tool, but I didn’t think it would be fatal.&lt;/p&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code class="language-powershell" data-lang="powershell"&gt;PS C:\Users\Brayden\repos\recipes&amp;gt; python --version

Python 3.13.3

[2025-12-20 07:44:45] INFO: Nikola: Did you mean "version"?

PS C:\Users\Brayden\repos\recipes&amp;gt; ..\nikola-env\Scripts\nikola.exe --version

Nikola v8.3.3

PS C:\Users\Brayden\repos\recipes&amp;gt; asciidoctor --version

Asciidoctor 2.0.26 [https://asciidoctor.org]

Runtime Environment (ruby 3.2.2 (2023-03-30 revision e51014f9c0) [x64-mingw-ucrt]) (lc:IBM437 fs:UTF-8 in:UTF-8 ex:UTF-8)&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;div class="paragraph"&gt;

&lt;p&gt;Every attempt to regenerate the site raised the following error before I added any new posts.&lt;/p&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code class="language-powershell" data-lang="powershell"&gt;..\nikola-env\Scripts\nikola.exe build

Scanning posts......done!

[2025-12-20 07:44:12] ERROR: Nikola: Error loading tasks. An unhandled exception occurred.

[2025-12-20 07:44:12] ERROR: Nikola: doit.exceptions.InvalidTask: Task generation 'render_site' has duplicated definition of 'render_posts:cache\posts\tech\installing-nikola-on-windows.html'

[2025-12-20 07:44:12] WARNING: Nikola: To see more details, run Nikola in debug mode (set environment variable NIKOLA_DEBUG=1) or use NIKOLA_SHOW_TRACEBACKS=1&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;div class="paragraph"&gt;

&lt;p&gt;The &lt;code&gt;./cache&lt;/code&gt; and &lt;code&gt;./output&lt;/code&gt; directories did not contain any generated output.

I only see CSS and images copied over.

Running as an administrator didn’t change anything.

I didn’t see any security actions taken by antivirus.

Googling for Windows specific issues against Nikola did not bring up any obvious fixes.&lt;/p&gt;

&lt;/div&gt;

&lt;div class="paragraph"&gt;

&lt;p&gt;I modified &lt;code&gt;loader.py&lt;/code&gt; in the Nikola source to dump all of the tasks when raising an error.

Nikola :&lt;/p&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code class="language-bash" data-lang="bash"&gt;render_pages

redirect

render_listings

copy_files

...

copy_assets

...

render_taxonomies

...

render_sources

...

scale_images

...

render_posts

render_posts:timeline_changes

render_posts:cache\posts\tech\installing-nikola-on-windows.html&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;div class="paragraph"&gt;

&lt;p&gt;I noticed that all of my posts were being rendered as pages &lt;em&gt;and&lt;/em&gt; posts.

I started poking at the post/pages definitions in conf.py. I realized I had duplicate entries for posts:&lt;/p&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code class="language-python" data-lang="python"&gt;POSTS = (

    ("posts/*.rst", "posts", "post.tmpl"),

    ("posts/*.adoc", "posts", "post.tmpl"),

    ("posts/tech/*.adoc", "tech", "post.tmpl"),

    ("posts/recipes/*.adoc", "recipes", "post.tmpl"),

)&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;div class="paragraph"&gt;

&lt;p&gt;Removing the &lt;code&gt;tech&lt;/code&gt; and &lt;code&gt;recipes&lt;/code&gt; entries corrected the duplicate entry issue.&lt;/p&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code class="language-python" data-lang="python"&gt;POSTS = (

    ("posts/*.rst", "posts", "post.tmpl"),

    ("posts/*.adoc", "posts", "post.tmpl"),

)&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;div class="paragraph"&gt;

&lt;p&gt;I still received file not found errors.

Since previously created posts were failing to compile, I started with checking the compiler paths.

I always forget this, but on Windows Asciidoctor is typically invoked via script.

I tweaked &lt;code&gt;conf.py&lt;/code&gt; to include alternate paths depending on the OS.&lt;/p&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code class="language-python" data-lang="python"&gt;import os   # To cover OS specific installs - Asciidoctor



# ...



if os.name == 'nt':

    ASCIIDOC_BINARY = "asciidoctor.bat"

else:

    ASCIIDOC_BINARY = "asciidoctor"&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;div class="paragraph"&gt;

&lt;p&gt;After that, I was able to compile successfully.

I have not had a chance to test this on Linux yet, but I’m confident that this should "just work" across my dev environments moving forward.&lt;/p&gt;

&lt;/div&gt;</description><category>asciidoctor</category><category>nikola</category><category>windows</category><guid>https://bstreete.github.io/posts/tech/installing-nikola-on-windows/</guid><pubDate>Sat, 20 Dec 2025 14:03:31 GMT</pubDate></item><item><title>Adding Icons</title><link>https://bstreete.github.io/posts/tech/adding-icons/</link><dc:creator>Brayden Streeter</dc:creator><description>&lt;div class="paragraph"&gt;

&lt;p&gt;I spent this afternoon creating and adding a favicon and logo to the webpage.

The original inspiration was to print out some QR codes with a snazzy logo.

I used &lt;a href="https://www.canva.com/"&gt;Canva&lt;/a&gt; to create a simple logo using some of their software engineering templates.

I made a simpler version of the icon to use as a favicon for the webpage.&lt;/p&gt;

&lt;/div&gt;

&lt;div class="paragraph"&gt;

&lt;p&gt;After downloading the PNGs, I opened the images in &lt;a href="https://www.gimp.org/"&gt;GIMP&lt;/a&gt;.

I added a transparent layer to the image, then deleted the outside white sections of the image to get the desired shapes.&lt;/p&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="title"&gt;Adding favicon and Logo to conf.py&lt;/div&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code class="language-python" data-lang="python"&gt;FAVICONS = (

    ("icon", "/favicon.png", "40x40"),

)



# Note: I used the {SITE_URL} to provide an absolute path, I had issues with relative

# pathing on non-root level pages.

LOGO_URL = f'{SITE_URL}/images/main_logo.png'&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;div class="paragraph"&gt;

&lt;p&gt;After adding the new images, I noticed the logo placement was wonky.

The current template I’m using expects a banner style logo across the top of the page.

Since I wanted a smaller round logo, that didn’t quite fit correctly.

I modified the &lt;code&gt;base.tmpl&lt;/code&gt; to move the logo around a little bit:&lt;/p&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="title"&gt;Removing the Logo from the Header&lt;/div&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code class="language-html" data-lang="html"&gt;&amp;lt;!-- Was --&amp;gt;

&amp;lt;div class="logo"&amp;gt;

    {% if logo_url %}

        &amp;lt;img src="{{ logo_url }}" alt="{{ blog_title|e }}" id="logo"&amp;gt;

    {% else %}

        &amp;lt;div id="nologoimage"&amp;gt;

            {{ blog_title }}

        &amp;lt;/div&amp;gt;

    {% endif %}

&amp;lt;/div&amp;gt;



&amp;lt;!-- Is --&amp;gt;

&amp;lt;div class="logo"&amp;gt;

    {% if logo_url %}

        {{ blog_title }}

    {% else %}

        &amp;lt;div id="nologoimage"&amp;gt;

            {{ blog_title }}

        &amp;lt;/div&amp;gt;

    {% endif %}

&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="title"&gt;Adding the Logo to the Nav Bar&lt;/div&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code class="language-html" data-lang="html"&gt;&amp;lt;!-- Was --&amp;gt;

&amp;lt;a href="/"&amp;gt;

    &amp;lt;div id="titleauth"&amp;gt;

        {% if show_blog_title %}

            {{ blog_title }}&amp;lt;br /&amp;gt; by {{ blog_author }}

        {% else %}

            by {{ blog_author }}

        {% endif %}

    &amp;lt;/div&amp;gt;

&amp;lt;/a&amp;gt;



&amp;lt;!-- Is --&amp;gt;

&amp;lt;a href="/"&amp;gt;

    &amp;lt;div id="titleauth"&amp;gt;

        {% if show_blog_title %}

            {{ blog_title }}&amp;lt;br /&amp;gt; by {{ blog_author }}

        {% else %}

            &amp;lt;img src="{{ logo_url }}" alt="{{ blog_title|e }}" id="logo"&amp;gt;

        {% endif %}

    &amp;lt;/div&amp;gt;

&amp;lt;/a&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;</description><category>gimp</category><category>nikola</category><guid>https://bstreete.github.io/posts/tech/adding-icons/</guid><pubDate>Thu, 11 Dec 2025 22:02:04 GMT</pubDate></item><item><title>Changing to the Gruberwine Theme</title><link>https://bstreete.github.io/posts/tech/changing-to-the-gruberwine-theme/</link><dc:creator>Brayden Streeter</dc:creator><description>&lt;div class="paragraph"&gt;

&lt;p&gt;After converting most of the Hugo posts from toml to Asciidoc, I didn’t like the formatting.

I tried out a few of the &lt;a href="https://themes.getnikola.com/"&gt;built-in themes&lt;/a&gt; and ended up with the Gruberwine theme.&lt;/p&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code class="language-sh" data-lang="sh"&gt;# Installing gruberwine

nikola theme -i gruberwine&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;div class="paragraph"&gt;

&lt;p&gt;I didn’t like the default behavior of using link metadata as the title link on index pages.

I modified a few of the provided templates to comment out that logic.&lt;/p&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code class="language-go" data-lang="go"&gt;{# Original Version

    {% if post.meta('link') %}

        &amp;lt;/a&amp;gt;&amp;lt;a href="{{ post.meta('link') }}" class="u-url"&amp;gt;

    {% endif %}



    {% if post.should_show_title() %}

        {{ post.title() }}

    {% endif %}

#}



{# Modified Version #}

{# Force permalinks here instead of external links like in original #}

{{ post.title() }}&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;div class="paragraph"&gt;

&lt;p&gt;I liked the provided &lt;code&gt;post_list_with_expansion&lt;/code&gt; template used for index pages, but I realized I wanted to have multiple types of index pages sorted by date or alphabetized.

I duplicated the original template and added a manual index page for recipes that uses a different sort in the short code.

Since I didn’t specify a start/stop index, it contains all of the recipes on the site, and it’s auto-generated using the existing infrastructure.

I removed dates from the custom template, because it read better to me.

See &lt;a href="https://bstreete.github.io/posts/recipes/recipe-index/"&gt;the Recipe Index page&lt;/a&gt; for an example sorted alphabetically compared to the default &lt;a href="https://bstreete.github.io/categories/cat_recipes"&gt;Recipe Category page&lt;/a&gt;.&lt;/p&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="title"&gt;Custom Index Page&lt;/div&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code class="language-go" data-lang="go"&gt; {{% post-list sort="title" categories="recipes" template="post_list_with_expansion_with_hidden_dates.tmpl" %}} {{% /post-list %}} &lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;</description><category>nikola</category><guid>https://bstreete.github.io/posts/tech/changing-to-the-gruberwine-theme/</guid><pubDate>Mon, 08 Dec 2025 13:41:32 GMT</pubDate></item><item><title>Migrating from Hugo to Nikola with Asciidoc</title><link>https://bstreete.github.io/posts/tech/migrating-from-hugo-to-nikola-with-asciidoc/</link><dc:creator>Brayden Streeter</dc:creator><description>&lt;div class="paragraph"&gt;

&lt;p&gt;I’ve had a small recipe website for a while using Hugo with some custom short-codes to enable additional metadata that I thought would be useful.

After a few years, I’ve soured a little bit on &lt;a href="https://gohugo.io/"&gt;Hugo&lt;/a&gt;, mostly because I don’t use Go much, debugging or adding capabilities was not as intuitive for me.

I’ve been using &lt;a href="https://docs.asciidoctor.org"&gt;Asciidoctor&lt;/a&gt; for document generation at work, and I wanted to continue playing with that.

I found the slightly more complex markdown just powerful enough for complex technical documents without being as cumbersome as LaTEX.

I found &lt;a href="https://getnikola.com/"&gt;Nikola&lt;/a&gt; searching old Asciidoctor forum posts, and it appears to fit the bill.&lt;/p&gt;

&lt;/div&gt;

&lt;div class="sect1"&gt;

&lt;h3 id="_setup"&gt;Setup&lt;/h3&gt;

&lt;div class="sectionbody"&gt;

&lt;div class="paragraph"&gt;

&lt;p&gt;I followed the &lt;a href="https://getnikola.com/getting-started.html"&gt;Getting Started&lt;/a&gt; guide, and it just worked.&lt;/p&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code class="language-sh" data-lang="sh"&gt;# Install dependencies through package manager

sudo apt install python3.12-venv

sudo apt install asciidoctor



# Setup Python Virtual Environment

python3 -m venv nikola-env

cd nikola-env/

bin/python -m pip install -U pip setuptools wheel

bin/python -m pip install -U "Nikola[extras]"



# Install the Asciidoc Plugin

bin/nikola

bin/nikola plugin -i asciidoc&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;div class="paragraph"&gt;

&lt;p&gt;After finishing setup, I have the following tool versions installed:&lt;/p&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code class="language-sh" data-lang="sh"&gt;# Installed Versions

$  ~/nikola-env/bin/python --version

Python 3.12.3



$ ~/nikola-env/bin/nikola --version

Nikola v8.3.3



$ asciidoctor --version

Asciidoctor 2.0.20 [https://asciidoctor.org]

Runtime Environment (ruby 3.2.3 (2024-01-18 revision 52bb2ac0a6) [x86_64-linux-gnu]) (lc:UTF-8 fs:UTF-8 in:UTF-8 ex:UTF-8)&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;div class="paragraph"&gt;

&lt;p&gt;The sample &lt;code&gt;conf.py&lt;/code&gt; printed to the screen included notes on enabling Asciidoc/Asciidoctor compilers and choosing the binary name.

I used the following tweaks.

I have not needed to change the options yet, but I may investigate that in the future.&lt;/p&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code class="language-python" data-lang="python"&gt;# Add the asciidoc compiler to your COMPILERS dict.

COMPILERS["asciidoc"] = ['.adoc']



# Add asciidoc files to your POSTS, PAGES

POSTS = POSTS + (("posts/*.adoc", "posts", "post.tmpl"),)

PAGES = PAGES + (("pages/*.adoc", "pages", "page.tmpl"),)



ASCIIDOC_BINARY = "asciidoctor"



# Specify options to the asciidoc compiler (as a string).

# ASCIIDOC_OPTIONS = ""&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;div class="paragraph"&gt;

&lt;p&gt;I went with the &lt;a href="https://themes.getnikola.com/v8/material-theme/"&gt;Material Theme&lt;/a&gt; that was easily available.

Adding the theme took little effort (no submodules like in my Hugo attempt a few years ago).&lt;/p&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code class="language-sh" data-lang="sh"&gt;$bin/nikola theme -i material-theme



# In conf.py, add the following to change the active theme

THEME="material-theme"&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;div class="sect1"&gt;

&lt;h3 id="_tweaks"&gt;Tweaks&lt;/h3&gt;

&lt;div class="sectionbody"&gt;

&lt;div class="paragraph"&gt;

&lt;p&gt;I’ve made a few tweaks to formatting, but I’m otherwise very happy with the out of the box experience.&lt;/p&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code class="language-python" data-lang="python"&gt;# conf.py changes:

# Remove Hours, Minutes, Seconds from post dates

DATE_FORMAT = 'yyyy-MM-dd'&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code class="language-css" data-lang="css"&gt;/* themes/material-theme/assets/css/ripples.css: */

/*# Adding a little bit of padding to table cells so recipe pages can be a little more compact*/

td {

  padding-left: 10px;

}&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;div class="sect1"&gt;

&lt;h3 id="_other_notes"&gt;Other Notes&lt;/h3&gt;

&lt;div class="sectionbody"&gt;

&lt;div class="paragraph"&gt;

&lt;p&gt;It took me a silly amount of time to recognize that the &lt;code&gt;link&lt;/code&gt; metadata needed to &lt;strong&gt;not&lt;/strong&gt; include quotes.

If included, the &lt;code&gt;SITE_URL&lt;/code&gt; was appended to the entire string which broke links.&lt;/p&gt;

&lt;/div&gt;

&lt;div class="listingblock"&gt;

&lt;div class="content"&gt;

&lt;pre class="highlight"&gt;&lt;code&gt;# Correct

.. link: https://www.reddit.com/r/pics/comments/jkc1j/2am_chili/

# Links to https://www.reddit.com/r/pics/comments/jkc1j/2am_chili/



# Incorrect

.. link: "https://www.reddit.com/r/pics/comments/jkc1j/2am_chili/"

# Links to &amp;lt;SITE_URL&amp;gt;/posts/recipes/2am-chili/%22https:/www.reddit.com/r/pics/comments/jkc1j/2am_chili/%22&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;</description><category>nikola</category><guid>https://bstreete.github.io/posts/tech/migrating-from-hugo-to-nikola-with-asciidoc/</guid><pubDate>Sun, 07 Dec 2025 14:54:51 GMT</pubDate></item></channel></rss>